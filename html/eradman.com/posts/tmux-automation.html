<!DOCTYPE html>
<html>
  <head>
    <title>
      TMUX Automation
    </title>
    <link href='../main.css' rel='stylesheet' type='text/css'>
    <link href='../code.css' rel='stylesheet' type='text/css'>
  </head>
  <body>
    <h3 style='margin-left: 5px; margin-top: 20px;'>
      <a href='../index.html' id='myname'>Eric Radman</a>
      <span id='mytitle'>: a Journal</span>
    </h3>
    <div id='article'>
      <h1>TMUX Automation</h1>
      <p>
        The first brilliant design feature of <a
        href="http://tmux.sourceforge.net">tmux</a> is that all of the commands
        available using <em>C-b :</em> are also available from the command line.
        The second great design feature is that all of these same commands can be
        run against a session that is not even connected. The following starts a new
        session called "harvest" (disconnected) and renames the initial window to
        "editor":
      </p>
      <pre>&#x000A;tmux new-session <span class="Special">-s</span> harvest <span class="Special">-d</span>&#x000A;tmux rename-window <span class="Special">-t</span> harvest <span class="Statement">&quot;</span><span class="Constant">editor</span><span class="Statement">&quot;</span>&#x000A;</pre>
      <p>
        With only knowledge of a few tmux commands it is not possible to script a
        development environment. Here we'll create a new window and start an
        application that will automatically be reloaded if files change:
      </p>
      <pre>&#x000A;tmux new-window <span class="Special">-t</span> harvest:<span class="Constant">1</span> <span class="Special">-n</span> <span class="Statement">&quot;</span><span class="Constant">server</span><span class="Statement">&quot;</span>&#x000A;tmux send-keys <span class="Special">-t</span> harvest:<span class="Constant">1</span> <span class="Statement">&quot;</span><span class="Constant">ls *.rb | entr -r ruby main.rb</span><span class="Statement">&quot;</span> C-m&#x000A;</pre>
      <p>
        Other useful operations include <em>split-window</em> and
        <em>select-pane</em>.  After setting all of the workspaces you can
        switch to first window and attach to session.
      </p>
      <pre>&#x000A;tmux select-window <span class="Special">-t</span> harvest:<span class="Constant">0</span>&#x000A;tmux <span class="Constant">-2</span> attach-session <span class="Special">-t</span> harvest&#x000A;</pre>
      <p>
        To get rid of the entire session use
      </p>
      <pre>&#x000A;tmux <span class="Statement">kill</span>-session <span class="Special">-t</span> harvest</pre>
    </div>
    <p class='timestamp'>
      Last updated on June 10, 2015
    </p>
  </body>
</html>
